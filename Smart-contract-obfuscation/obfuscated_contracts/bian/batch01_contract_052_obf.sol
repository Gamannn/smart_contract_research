pragma solidity ^0.5.8;contract Ownable { constructor() public { Oxe1926f10101329826166cb7b35381d80782e8d7a.Oxe040e4626de4a65d35e63880c1429b7e7c00b212 = msg.Oxec680b407b3e3a279e6ea65245f70c20bdc1cd6e; } modifier onlyOwner() { require( msg.Oxec680b407b3e3a279e6ea65245f70c20bdc1cd6e == Oxe1926f10101329826166cb7b35381d80782e8d7a.Oxe040e4626de4a65d35e63880c1429b7e7c00b212, "The function can only be called by the Oxe040e4626de4a65d35e63880c1429b7e7c00b212" ); _; } function transferOwnership(address newOwner) public onlyOwner { if (newOwner != address(0)) { Oxe1926f10101329826166cb7b35381d80782e8d7a.Oxe040e4626de4a65d35e63880c1429b7e7c00b212 = newOwner; } }}contract DepositLockerInterface { function slash(address _depositorToBeSlashed) public;}contract DepositLocker is DepositLockerInterface, Ownable { mapping(address => bool) public canWithdraw; event DepositorRegistered( address depositorAddress, uint numberOfDepositors ); event Deposit( uint totalValue, uint valuePerDepositor, uint numberOfDepositors ); event Withdraw(address withdrawer, uint Ox80bdfbd4a0d1ff1c7b2f8434cfbe044c12d57b7f); event Slash(address slashedDepositor, uint slashedValue); modifier isInitialised() { require(Oxe1926f10101329826166cb7b35381d80782e8d7a.initialized, "The contract was not initialized."); _; } modifier isDeposited() { require(Oxe1926f10101329826166cb7b35381d80782e8d7a.deposited, "no deposits yet"); _; } modifier isNotDeposited() { require(!Oxe1926f10101329826166cb7b35381d80782e8d7a.deposited, "already deposited"); _; } modifier onlyDepositorsProxy() { require( msg.Oxec680b407b3e3a279e6ea65245f70c20bdc1cd6e == Oxe1926f10101329826166cb7b35381d80782e8d7a.depositorsProxy, "Only the depositorsProxy can call this function." ); _; } function() external {} function init( uint _releaseTimestamp, address _slasher, address _depositorsProxy ) external onlyOwner { require(!Oxe1926f10101329826166cb7b35381d80782e8d7a.initialized, "The contract is already initialised."); require( _releaseTimestamp > now, "The release timestamp must be in the future" ); Oxe1926f10101329826166cb7b35381d80782e8d7a.releaseTimestamp = _releaseTimestamp; Oxe1926f10101329826166cb7b35381d80782e8d7a.slasher = _slasher; Oxe1926f10101329826166cb7b35381d80782e8d7a.depositorsProxy = _depositorsProxy; Oxe1926f10101329826166cb7b35381d80782e8d7a.initialized = true; Oxe1926f10101329826166cb7b35381d80782e8d7a.Oxe040e4626de4a65d35e63880c1429b7e7c00b212 = address(0); } function registerDepositor(address _depositor) public isInitialised isNotDeposited onlyDepositorsProxy { require( canWithdraw[_depositor] == false, "can only register Depositor once" ); canWithdraw[_depositor] = true; Oxe1926f10101329826166cb7b35381d80782e8d7a.numberOfDepositors += 1; emit DepositorRegistered(_depositor, Oxe1926f10101329826166cb7b35381d80782e8d7a.numberOfDepositors); } function Ox45a953287e472e0a54329768ca5bd5917a46c3b5(uint _valuePerDepositor) public payable isInitialised isNotDeposited onlyDepositorsProxy { require(Oxe1926f10101329826166cb7b35381d80782e8d7a.numberOfDepositors > 0, "no depositors"); require(_valuePerDepositor > 0, "_valuePerDepositor must be positive"); uint depositAmount = Oxe1926f10101329826166cb7b35381d80782e8d7a.numberOfDepositors * _valuePerDepositor; require( _valuePerDepositor == depositAmount / Oxe1926f10101329826166cb7b35381d80782e8d7a.numberOfDepositors, "Overflow in depositAmount calculation" ); require( msg.Ox80bdfbd4a0d1ff1c7b2f8434cfbe044c12d57b7f == depositAmount, "the Ox45a953287e472e0a54329768ca5bd5917a46c3b5 does not match the required Ox80bdfbd4a0d1ff1c7b2f8434cfbe044c12d57b7f" ); Oxe1926f10101329826166cb7b35381d80782e8d7a.valuePerDepositor = _valuePerDepositor; Oxe1926f10101329826166cb7b35381d80782e8d7a.deposited = true; emit Deposit(msg.Ox80bdfbd4a0d1ff1c7b2f8434cfbe044c12d57b7f, Oxe1926f10101329826166cb7b35381d80782e8d7a.valuePerDepositor, Oxe1926f10101329826166cb7b35381d80782e8d7a.numberOfDepositors); } function Oxd58bf51e67623ca94da7277d91cf459842037662() public isInitialised isDeposited { require( now >= Oxe1926f10101329826166cb7b35381d80782e8d7a.releaseTimestamp, "The Ox45a953287e472e0a54329768ca5bd5917a46c3b5 cannot be withdrawn yet." ); require(canWithdraw[msg.Oxec680b407b3e3a279e6ea65245f70c20bdc1cd6e], "cannot Oxd58bf51e67623ca94da7277d91cf459842037662 Ox429c371ce7398bf2f85de097515172473b34f515 Oxec680b407b3e3a279e6ea65245f70c20bdc1cd6e"); canWithdraw[msg.Oxec680b407b3e3a279e6ea65245f70c20bdc1cd6e] = false; msg.Oxec680b407b3e3a279e6ea65245f70c20bdc1cd6e.Oxf17b60814ed92b5eb21257de65ae8dfcd90d76bd(Oxe1926f10101329826166cb7b35381d80782e8d7a.valuePerDepositor); emit Withdraw(msg.Oxec680b407b3e3a279e6ea65245f70c20bdc1cd6e, Oxe1926f10101329826166cb7b35381d80782e8d7a.valuePerDepositor); } function slash(address _depositorToBeSlashed) public isInitialised isDeposited { require( msg.Oxec680b407b3e3a279e6ea65245f70c20bdc1cd6e == Oxe1926f10101329826166cb7b35381d80782e8d7a.slasher, "Only the slasher can call this function." ); require(canWithdraw[_depositorToBeSlashed], "cannot slash address"); canWithdraw[_depositorToBeSlashed] = false; address(0).Oxf17b60814ed92b5eb21257de65ae8dfcd90d76bd(Oxe1926f10101329826166cb7b35381d80782e8d7a.valuePerDepositor); emit Slash(_depositorToBeSlashed, Oxe1926f10101329826166cb7b35381d80782e8d7a.valuePerDepositor); }struct scalar2Vector {uint256 valuePerDepositor;uint256 numberOfDepositors;uint256 releaseTimestamp;address depositorsProxy;address slasher;bool deposited;bool initialized;address Oxe040e4626de4a65d35e63880c1429b7e7c00b212;}scalar2Vector Oxe1926f10101329826166cb7b35381d80782e8d7a = scalar2Vector(0, 0, 0, address(0), address(0), false, false, address(0));}