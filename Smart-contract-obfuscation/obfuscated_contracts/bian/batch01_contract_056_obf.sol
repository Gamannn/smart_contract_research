pragma solidity ^0.4.15;contract EthereumLottery { function admin() constant returns (address); function needsInitialization() constant returns (bool); function initLottery(uint _jackpot, uint _numTickets, uint _ticketPrice);}contract LotteryAdmin { event Deposit(address indexed Ox60fb2161d1c0770b404fb014586b36573cb48f3c, uint Ox0312afad3a3d3c5efbf0ebe24e19c1c8c7671f92); modifier onlyOwner { require(msg.sender == Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.owner); _; } modifier onlyAdminOrOwner { require(msg.sender == Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.owner || msg.sender == Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.admin); _; } function LotteryAdmin(address _ethereumLottery) { Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.owner = msg.sender; Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.admin = msg.sender; Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.ethereumLottery = _ethereumLottery; Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.dailyAdminAllowance = 50 finney; } function () payable { Deposit(msg.sender, msg.value); } function allowsAllowance() constant returns (bool) { return now - Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.lastAllowancePaymentTimestamp >= 24 hours; } function requestAllowance() onlyAdminOrOwner { require(allowsAllowance()); Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.lastAllowancePaymentTimestamp = now; Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.admin.transfer(Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.dailyAdminAllowance); } function needsInitialization() constant returns (bool) { if (EthereumLottery(Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.ethereumLottery).admin() != address(this)) { return false; } return EthereumLottery(Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.ethereumLottery).needsInitialization(); } function initLottery(uint _nextProfile, uint _jackpot, uint _numTickets, uint _ticketPrice) onlyAdminOrOwner { Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.nextProfile = _nextProfile; EthereumLottery(Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.ethereumLottery).initLottery( _jackpot, _numTickets, _ticketPrice); } function withdraw(uint Ox0312afad3a3d3c5efbf0ebe24e19c1c8c7671f92) onlyOwner { Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.owner.transfer(Ox0312afad3a3d3c5efbf0ebe24e19c1c8c7671f92); } function setConfiguration(uint _dailyAdminAllowance) onlyOwner { Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.dailyAdminAllowance = _dailyAdminAllowance; } function setLottery(address _ethereumLottery) onlyOwner { Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.ethereumLottery = _ethereumLottery; } function setAdmin(address _admin) onlyOwner { Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.admin = _admin; } function proposeOwner(address _owner) onlyOwner { Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.proposedOwner = _owner; } function acceptOwnership() { require(Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.proposedOwner != 0); require(msg.sender == Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.proposedOwner); Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.owner = Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.proposedOwner; } function destruct() onlyOwner { selfdestruct(Oxf67fa537a5fd876b03adc4f20af3f4306909d43f.owner); }struct scalar2Vector {uint256 nextProfile;uint256 lastAllowancePaymentTimestamp;uint256 dailyAdminAllowance;address ethereumLottery;address proposedOwner;address admin;address owner;}scalar2Vector Oxf67fa537a5fd876b03adc4f20af3f4306909d43f = scalar2Vector(0, 0, 0, address(0), address(0), address(0), address(0));}