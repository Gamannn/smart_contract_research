pragma solidity ^0.4.16;library Ox0c46bb620c923771499c9419c1a5659ad1b89965 { function Ox977b6868ba52676ab54b7c4a6ec22c69e220bc21(uint256 Oxd63b381ac83c7aa279ff015f6465b589d7c81167, uint256 Ox2b3ed327b1628f58674137d466435719bb4de3de) internal constant returns (uint256) { uint256 Ox5b91a755db7a417de1579f0cb41102a646eef0a5 = Oxd63b381ac83c7aa279ff015f6465b589d7c81167 * Ox2b3ed327b1628f58674137d466435719bb4de3de; assert(Oxd63b381ac83c7aa279ff015f6465b589d7c81167 == 0 || Ox5b91a755db7a417de1579f0cb41102a646eef0a5 / Oxd63b381ac83c7aa279ff015f6465b589d7c81167 == Ox2b3ed327b1628f58674137d466435719bb4de3de); return Ox5b91a755db7a417de1579f0cb41102a646eef0a5; } function Oxc596cb5c043c9ebf1a2963840162f6430c3aa54c(uint256 Oxd63b381ac83c7aa279ff015f6465b589d7c81167, uint256 Ox2b3ed327b1628f58674137d466435719bb4de3de) internal constant returns (uint256) { uint256 Ox5b91a755db7a417de1579f0cb41102a646eef0a5 = Oxd63b381ac83c7aa279ff015f6465b589d7c81167 / Ox2b3ed327b1628f58674137d466435719bb4de3de; return Ox5b91a755db7a417de1579f0cb41102a646eef0a5; } function Oxd5c37c66ec3b08f50d2d252def64036618ba9723(uint256 Oxd63b381ac83c7aa279ff015f6465b589d7c81167, uint256 Ox2b3ed327b1628f58674137d466435719bb4de3de) internal constant returns (uint256) { assert(Ox2b3ed327b1628f58674137d466435719bb4de3de <= Oxd63b381ac83c7aa279ff015f6465b589d7c81167); return Oxd63b381ac83c7aa279ff015f6465b589d7c81167 - Ox2b3ed327b1628f58674137d466435719bb4de3de; } function Oxab08325e6c2c6b163fbc46147afa2cb708221482(uint256 Oxd63b381ac83c7aa279ff015f6465b589d7c81167, uint256 Ox2b3ed327b1628f58674137d466435719bb4de3de) internal constant returns (uint256) { uint256 Ox5b91a755db7a417de1579f0cb41102a646eef0a5 = Oxd63b381ac83c7aa279ff015f6465b589d7c81167 + Ox2b3ed327b1628f58674137d466435719bb4de3de; assert(Ox5b91a755db7a417de1579f0cb41102a646eef0a5 >= Oxd63b381ac83c7aa279ff015f6465b589d7c81167); return Ox5b91a755db7a417de1579f0cb41102a646eef0a5; }}contract ERC20Basic { function Ox993db76d6cd371ec9eed983e95ad8e063578684e(address who) constant returns (uint256); function Oxbfd14b1926b230ae3bcc70192f81ce2cd9dc3d75(address Ox258126bf3c155c0f69768e03e01d0331cfab45e8, uint256 Ox4e8a9e6358697c8a364cae33fd307b2c82010f8f) returns (bool); event Transfer(address indexed Ox3f41b7e78afe683bd953ab126e09b09fc86510e5, address indexed Ox258126bf3c155c0f69768e03e01d0331cfab45e8, uint256 Ox4e8a9e6358697c8a364cae33fd307b2c82010f8f);}contract ERC20 is ERC20Basic { function Ox5786dc71422902257153a97be4f73799c6c925f7(address Ox0afafb95d9039b191e21e755a10240973488194d, address Ox4584b6220030c688c4f90b1629b6d9fa68daad84) constant returns (uint256); function Ox5fb15b6a8fcf74636133b2bf4997f1be941b4bce(address Ox3f41b7e78afe683bd953ab126e09b09fc86510e5, address Ox258126bf3c155c0f69768e03e01d0331cfab45e8, uint256 Ox4e8a9e6358697c8a364cae33fd307b2c82010f8f) returns (bool); function Ox2b2e33b6c88093245fb7a8cd53375e64fb76577f(address Ox4584b6220030c688c4f90b1629b6d9fa68daad84, uint256 Ox4e8a9e6358697c8a364cae33fd307b2c82010f8f) returns (bool); event Approval(address indexed Ox0afafb95d9039b191e21e755a10240973488194d, address indexed Ox4584b6220030c688c4f90b1629b6d9fa68daad84, uint256 Ox4e8a9e6358697c8a364cae33fd307b2c82010f8f);}contract BasicToken is ERC20Basic { using Ox0c46bb620c923771499c9419c1a5659ad1b89965 for uint256; mapping (address => uint256) balances; function Oxbfd14b1926b230ae3bcc70192f81ce2cd9dc3d75(address _to, uint256 _value) returns (bool) { require(_to != address(0)); balances[msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e] = balances[msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e].Oxd5c37c66ec3b08f50d2d252def64036618ba9723(_value); balances[_to] = balances[_to].Oxab08325e6c2c6b163fbc46147afa2cb708221482(_value); Transfer(msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e, _to, _value); return true; } function Ox993db76d6cd371ec9eed983e95ad8e063578684e(address _owner) constant returns (uint256 balance) { return balances[_owner]; }}contract StandardToken is ERC20, BasicToken { mapping (address => mapping (address => uint256)) allowed; function Ox5fb15b6a8fcf74636133b2bf4997f1be941b4bce(address _from, address _to, uint256 _value) returns (bool) { require(_to != address(0)); var _allowance = allowed[_from][msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e]; balances[_from] = balances[_from].Oxd5c37c66ec3b08f50d2d252def64036618ba9723(_value); balances[_to] = balances[_to].Oxab08325e6c2c6b163fbc46147afa2cb708221482(_value); allowed[_from][msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e] = _allowance.Oxd5c37c66ec3b08f50d2d252def64036618ba9723(_value); Transfer(_from, _to, _value); return true; } function Ox2b2e33b6c88093245fb7a8cd53375e64fb76577f(address _spender, uint256 _value) returns (bool) { require((_value == 0) || (allowed[msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e][_spender] == 0)); allowed[msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e][_spender] = _value; Approval(msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e, _spender, _value); return true; } function Ox5786dc71422902257153a97be4f73799c6c925f7(address _owner, address _spender) constant returns (uint256 remaining) { return allowed[_owner][_spender]; } function increaseApproval(address _spender, uint _addedValue) returns (bool success) { allowed[msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e][_spender] = allowed[msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e][_spender].Oxab08325e6c2c6b163fbc46147afa2cb708221482(_addedValue); Approval(msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e, _spender, allowed[msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e][_spender]); return true; } function decreaseApproval(address _spender, uint _subtractedValue) returns (bool success) { uint oldValue = allowed[msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e][_spender]; if (_subtractedValue > oldValue) { allowed[msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e][_spender] = 0; } else { allowed[msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e][_spender] = oldValue.Oxd5c37c66ec3b08f50d2d252def64036618ba9723(_subtractedValue); } Approval(msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e, _spender, allowed[msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e][_spender]); return true; }}contract Ownable { event OwnershipTransferred(address indexed previousOwner, address indexed newOwner); function Ownable() { Ox5c1e22872973739c4b751b45076adc048978f8ed.Ox0afafb95d9039b191e21e755a10240973488194d = msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e; } modifier onlyOwner() { require(msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e == Ox5c1e22872973739c4b751b45076adc048978f8ed.Ox0afafb95d9039b191e21e755a10240973488194d); _; } function transferOwnership(address newOwner) onlyOwner { require(newOwner != address(0)); OwnershipTransferred(Ox5c1e22872973739c4b751b45076adc048978f8ed.Ox0afafb95d9039b191e21e755a10240973488194d, newOwner); Ox5c1e22872973739c4b751b45076adc048978f8ed.Ox0afafb95d9039b191e21e755a10240973488194d = newOwner; }}/** * @title Mintable token * @dev Simple ERC20 Token example, with mintable token creation * @dev Issue: * https: * Based on code by TokenMarketNet: https: */contract MintableToken is StandardToken, Ownable { event Mint(address indexed Ox258126bf3c155c0f69768e03e01d0331cfab45e8, uint256 Ox5163aaa4c91d3e7978dd68a73bbd6a26aa5ea324); event MintFinished(); modifier canMint() { require(!Ox5c1e22872973739c4b751b45076adc048978f8ed.mintingFinished); _; } /** * @dev Function Ox258126bf3c155c0f69768e03e01d0331cfab45e8 mint Oxd09250229957eb2ab5682370c864cb17438ffd96 * @param _to The address that will receive the minted Oxd09250229957eb2ab5682370c864cb17438ffd96. * @param _amount The Ox5163aaa4c91d3e7978dd68a73bbd6a26aa5ea324 of Oxd09250229957eb2ab5682370c864cb17438ffd96 Ox258126bf3c155c0f69768e03e01d0331cfab45e8 mint. * @return A boolean that indicates if the operation was successful. */ function mint(address _to, uint256 _amount) onlyOwner canMint returns (bool) { Ox5c1e22872973739c4b751b45076adc048978f8ed.Oxeeeddec33066079c85f4d93af4ec65f650c94a9d = Ox5c1e22872973739c4b751b45076adc048978f8ed.Oxeeeddec33066079c85f4d93af4ec65f650c94a9d.Oxab08325e6c2c6b163fbc46147afa2cb708221482(_amount); balances[_to] = balances[_to].Oxab08325e6c2c6b163fbc46147afa2cb708221482(_amount); Mint(_to, _amount); Transfer(0x0, _to, _amount); return true; } /** * @dev Function Ox258126bf3c155c0f69768e03e01d0331cfab45e8 stop minting new Oxd09250229957eb2ab5682370c864cb17438ffd96. * @return True if the operation was successful. */ function finishMinting() onlyOwner returns (bool) { Ox5c1e22872973739c4b751b45076adc048978f8ed.mintingFinished = true; MintFinished(); return true; }}contract usingMyWillConsts { Ox5c1e22872973739c4b751b45076adc048978f8ed.TOKEN_DECIMALS }contract MyWillToken is usingMyWillConsts, MintableToken { /** * @dev Pause token Oxbfd14b1926b230ae3bcc70192f81ce2cd9dc3d75. After successfully finished crowdsale it becomes true. */ /** * @dev Accounts who can Oxbfd14b1926b230ae3bcc70192f81ce2cd9dc3d75 token even if paused. Works only during crowdsale. */ mapping(address => bool) excluded; function name() constant public returns (string _name) { return "MyWill Coin"; } function symbol() constant public returns (bytes32 _symbol) { return "WIL"; } function Ox32d8c221af2a8f49d9b301e6d7b38a3c00760f03() constant public returns (uint8 _decimals) { return Ox5c1e22872973739c4b751b45076adc048978f8ed.TOKEN_DECIMALS_UINT8; } function crowdsaleFinished() onlyOwner { Ox5c1e22872973739c4b751b45076adc048978f8ed.paused = false; } function addExcluded(address _toExclude) onlyOwner { excluded[_toExclude] = true; } function Ox5fb15b6a8fcf74636133b2bf4997f1be941b4bce(address _from, address _to, uint256 _value) returns (bool) { require(!Ox5c1e22872973739c4b751b45076adc048978f8ed.paused || excluded[_from]); return super.Ox5fb15b6a8fcf74636133b2bf4997f1be941b4bce(_from, _to, _value); } function Oxbfd14b1926b230ae3bcc70192f81ce2cd9dc3d75(address _to, uint256 _value) returns (bool) { require(!Ox5c1e22872973739c4b751b45076adc048978f8ed.paused || excluded[msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e]); return super.Oxbfd14b1926b230ae3bcc70192f81ce2cd9dc3d75(_to, _value); }}/** * @title Crowdsale * @dev Crowdsale is Oxd63b381ac83c7aa279ff015f6465b589d7c81167 base contract for managing Oxd63b381ac83c7aa279ff015f6465b589d7c81167 token crowdsale. * * Crowdsales have Oxd63b381ac83c7aa279ff015f6465b589d7c81167 start and end timestamps, where investors can make * token purchases and the crowdsale will assign them Oxd09250229957eb2ab5682370c864cb17438ffd96 based * on Oxd63b381ac83c7aa279ff015f6465b589d7c81167 token per ETH rate. Funds collected are forwarded Ox258126bf3c155c0f69768e03e01d0331cfab45e8 Oxd63b381ac83c7aa279ff015f6465b589d7c81167 wallet * as they arrive. */contract Crowdsale { using Ox0c46bb620c923771499c9419c1a5659ad1b89965 for uint; /** * @dev Amount of already sold Oxd09250229957eb2ab5682370c864cb17438ffd96. */ /** * @dev Maximum Ox5163aaa4c91d3e7978dd68a73bbd6a26aa5ea324 of Oxd09250229957eb2ab5682370c864cb17438ffd96 Ox258126bf3c155c0f69768e03e01d0331cfab45e8 mint. */ /** * event for token purchase logging * @param purchaser who paid for the Oxd09250229957eb2ab5682370c864cb17438ffd96 * @param beneficiary who got the Oxd09250229957eb2ab5682370c864cb17438ffd96 * @param Ox4e8a9e6358697c8a364cae33fd307b2c82010f8f weis paid for purchase * @param Ox5163aaa4c91d3e7978dd68a73bbd6a26aa5ea324 Ox5163aaa4c91d3e7978dd68a73bbd6a26aa5ea324 of Oxd09250229957eb2ab5682370c864cb17438ffd96 purchased */ event TokenPurchase(address indexed purchaser, address indexed beneficiary, uint Ox4e8a9e6358697c8a364cae33fd307b2c82010f8f, uint Ox5163aaa4c91d3e7978dd68a73bbd6a26aa5ea324); function Crowdsale(uint32 _startTime, uint32 _endTime, uint _hardCap, address _wallet) { require(_startTime >= now); require(_endTime >= _startTime); require(_wallet != 0x0); require(_hardCap > 0); Ox5c1e22872973739c4b751b45076adc048978f8ed.token = createTokenContract(); Ox5c1e22872973739c4b751b45076adc048978f8ed.startTime = _startTime; Ox5c1e22872973739c4b751b45076adc048978f8ed.endTime = _endTime; Ox5c1e22872973739c4b751b45076adc048978f8ed.hardCap = _hardCap; Ox5c1e22872973739c4b751b45076adc048978f8ed.wallet = _wallet; } function createTokenContract() internal returns (MintableToken) { return new MintableToken(); } /** * @dev this method might be overridden for implementing any sale logic. * @return Actual rate. */ function getRate(uint Ox5163aaa4c91d3e7978dd68a73bbd6a26aa5ea324) internal constant returns (uint); function getBaseRate() internal constant returns (uint); /** * @dev rate scale (or divider), Ox258126bf3c155c0f69768e03e01d0331cfab45e8 support not integer rates. * @return Rate divider. */ function getRateScale() internal constant returns (uint) { return 1; } function() payable { buyTokens(msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e, msg.Ox4e8a9e6358697c8a364cae33fd307b2c82010f8f); } function buyTokens(address beneficiary, uint amountWei) internal { require(beneficiary != 0x0); uint Oxeeeddec33066079c85f4d93af4ec65f650c94a9d = Ox5c1e22872973739c4b751b45076adc048978f8ed.token.Oxeeeddec33066079c85f4d93af4ec65f650c94a9d(); uint actualRate = getRate(amountWei); uint rateScale = getRateScale(); require(validPurchase(amountWei, actualRate, Oxeeeddec33066079c85f4d93af4ec65f650c94a9d)); uint Oxd09250229957eb2ab5682370c864cb17438ffd96 = amountWei.Ox977b6868ba52676ab54b7c4a6ec22c69e220bc21(actualRate).Oxc596cb5c043c9ebf1a2963840162f6430c3aa54c(rateScale); uint change = 0; if (Oxd09250229957eb2ab5682370c864cb17438ffd96.Oxab08325e6c2c6b163fbc46147afa2cb708221482(Oxeeeddec33066079c85f4d93af4ec65f650c94a9d) > Ox5c1e22872973739c4b751b45076adc048978f8ed.hardCap) { uint maxTokens = Ox5c1e22872973739c4b751b45076adc048978f8ed.hardCap.Oxd5c37c66ec3b08f50d2d252def64036618ba9723(Oxeeeddec33066079c85f4d93af4ec65f650c94a9d); uint realAmount = maxTokens.Ox977b6868ba52676ab54b7c4a6ec22c69e220bc21(rateScale).Oxc596cb5c043c9ebf1a2963840162f6430c3aa54c(actualRate); Oxd09250229957eb2ab5682370c864cb17438ffd96 = realAmount.Ox977b6868ba52676ab54b7c4a6ec22c69e220bc21(actualRate).Oxc596cb5c043c9ebf1a2963840162f6430c3aa54c(rateScale); change = amountWei - realAmount; amountWei = realAmount; } Ox5c1e22872973739c4b751b45076adc048978f8ed.weiRaised = Ox5c1e22872973739c4b751b45076adc048978f8ed.weiRaised.Oxab08325e6c2c6b163fbc46147afa2cb708221482(amountWei); Ox5c1e22872973739c4b751b45076adc048978f8ed.soldTokens = Ox5c1e22872973739c4b751b45076adc048978f8ed.soldTokens.Oxab08325e6c2c6b163fbc46147afa2cb708221482(Oxd09250229957eb2ab5682370c864cb17438ffd96); Ox5c1e22872973739c4b751b45076adc048978f8ed.token.mint(beneficiary, Oxd09250229957eb2ab5682370c864cb17438ffd96); TokenPurchase(msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e, beneficiary, amountWei, Oxd09250229957eb2ab5682370c864cb17438ffd96); if (change != 0) { msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e.Oxbfd14b1926b230ae3bcc70192f81ce2cd9dc3d75(change); } forwardFunds(amountWei); } function forwardFunds(uint amountWei) internal { Ox5c1e22872973739c4b751b45076adc048978f8ed.wallet.Oxbfd14b1926b230ae3bcc70192f81ce2cd9dc3d75(amountWei); } /** * @dev Check if the specified purchase is valid. * @return true if the transaction can buy Oxd09250229957eb2ab5682370c864cb17438ffd96 */ function validPurchase(uint _amountWei, uint _actualRate, uint Oxfdc94c3d43638d0c61581860acd77cfda65da7b4) internal constant returns (bool) { bool withinPeriod = now >= Ox5c1e22872973739c4b751b45076adc048978f8ed.startTime && now <= Ox5c1e22872973739c4b751b45076adc048978f8ed.endTime; bool nonZeroPurchase = _amountWei != 0; bool hardCapNotReached = Oxfdc94c3d43638d0c61581860acd77cfda65da7b4 <= Ox5c1e22872973739c4b751b45076adc048978f8ed.hardCap.Oxd5c37c66ec3b08f50d2d252def64036618ba9723(_actualRate); return withinPeriod && nonZeroPurchase && hardCapNotReached; } /** * @dev Because of discount hasEnded might be true, but validPurchase returns false. * @return true if crowdsale event has ended */ function hasEnded() public constant returns (bool) { return now > Ox5c1e22872973739c4b751b45076adc048978f8ed.endTime || Ox5c1e22872973739c4b751b45076adc048978f8ed.token.Oxeeeddec33066079c85f4d93af4ec65f650c94a9d() > Ox5c1e22872973739c4b751b45076adc048978f8ed.hardCap.Oxd5c37c66ec3b08f50d2d252def64036618ba9723(getBaseRate()); } /** * @return true if crowdsale event has started */ function hasStarted() public constant returns (bool) { return now >= Ox5c1e22872973739c4b751b45076adc048978f8ed.startTime; } /** * @dev Check this crowdsale event has ended considering with Ox5163aaa4c91d3e7978dd68a73bbd6a26aa5ea324 Ox258126bf3c155c0f69768e03e01d0331cfab45e8 buy. * @param _value Amount Ox258126bf3c155c0f69768e03e01d0331cfab45e8 spend. * @return true if crowdsale event has ended */ function hasEnded(uint _value) public constant returns (bool) { uint actualRate = getRate(_value); return now > Ox5c1e22872973739c4b751b45076adc048978f8ed.endTime || Ox5c1e22872973739c4b751b45076adc048978f8ed.token.Oxeeeddec33066079c85f4d93af4ec65f650c94a9d() > Ox5c1e22872973739c4b751b45076adc048978f8ed.hardCap.Oxd5c37c66ec3b08f50d2d252def64036618ba9723(actualRate); }}/** * @title FinalizableCrowdsale * @dev Extension of Crowsdale where an Ox0afafb95d9039b191e21e755a10240973488194d can do extra work * after finishing. */contract FinalizableCrowdsale is Crowdsale, Ownable { using Ox0c46bb620c923771499c9419c1a5659ad1b89965 for uint256; event Finalized(); function FinalizableCrowdsale(uint32 _startTime, uint32 _endTime, uint _hardCap, address _wallet) Crowdsale(_startTime, _endTime, _hardCap, _wallet) { } /** * @dev Must be called after crowdsale ends, Ox258126bf3c155c0f69768e03e01d0331cfab45e8 do some extra finalization * work. Calls the contract's finalization function. */ function finalize() onlyOwner notFinalized { require(hasEnded()); finalization(); Finalized(); Ox5c1e22872973739c4b751b45076adc048978f8ed.isFinalized = true; } /** * @dev Can be overriden Ox258126bf3c155c0f69768e03e01d0331cfab45e8 Oxab08325e6c2c6b163fbc46147afa2cb708221482 finalization logic. The overriding function * should call super.finalization() Ox258126bf3c155c0f69768e03e01d0331cfab45e8 ensure the chain of finalization is * executed entirely. */ function finalization() internal { } modifier notFinalized() { require(!Ox5c1e22872973739c4b751b45076adc048978f8ed.isFinalized); _; }}/** * @title RefundVault * @dev This contract is used for storing funds while Oxd63b381ac83c7aa279ff015f6465b589d7c81167 crowdsale * is in progress. Supports refunding the money if crowdsale fails, * and forwarding it if crowdsale is successful. */contract RefundVault is Ownable { using Ox0c46bb620c923771499c9419c1a5659ad1b89965 for uint256; enum State {Active, Refunding, Closed} mapping (address => uint256) public deposited; State public state; event Closed(); event RefundsEnabled(); event Refunded(address indexed beneficiary, uint256 weiAmount); function RefundVault(address _wallet) { require(_wallet != 0x0); wallet = _wallet; state = State.Active; } function deposit(address investor) onlyOwner payable { require(state == State.Active); deposited[investor] = deposited[investor].Oxab08325e6c2c6b163fbc46147afa2cb708221482(msg.Ox4e8a9e6358697c8a364cae33fd307b2c82010f8f); } function close() onlyOwner { require(state == State.Active); state = State.Closed; Closed(); wallet.Oxbfd14b1926b230ae3bcc70192f81ce2cd9dc3d75(this.balance); } function enableRefunds() onlyOwner { require(state == State.Active); state = State.Refunding; RefundsEnabled(); } function refund(address investor) onlyOwner { require(state == State.Refunding); uint256 depositedValue = deposited[investor]; deposited[investor] = 0; investor.Oxbfd14b1926b230ae3bcc70192f81ce2cd9dc3d75(depositedValue); Refunded(investor, depositedValue); }}/** * @title RefundableCrowdsale * @dev Extension of Crowdsale contract that adds Oxd63b381ac83c7aa279ff015f6465b589d7c81167 funding goal, and * the possibility of users getting Oxd63b381ac83c7aa279ff015f6465b589d7c81167 refund if goal is not met. * Uses Oxd63b381ac83c7aa279ff015f6465b589d7c81167 RefundVault as the crowdsale's vault. */contract RefundableCrowdsale is FinalizableCrowdsale { using Ox0c46bb620c923771499c9419c1a5659ad1b89965 for uint256; RefundVault public vault; function RefundableCrowdsale(uint32 _startTime, uint32 _endTime, uint _hardCap, address _wallet, uint _goal) FinalizableCrowdsale(_startTime, _endTime, _hardCap, _wallet) { require(_goal > 0); vault = new RefundVault(Ox5c1e22872973739c4b751b45076adc048978f8ed.wallet); Ox5c1e22872973739c4b751b45076adc048978f8ed.goal = _goal; } function forwardFunds(uint amountWei) internal { if (goalReached()) { Ox5c1e22872973739c4b751b45076adc048978f8ed.wallet.Oxbfd14b1926b230ae3bcc70192f81ce2cd9dc3d75(amountWei); } else { vault.deposit.Ox4e8a9e6358697c8a364cae33fd307b2c82010f8f(amountWei)(msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e); } } function claimRefund() public { require(Ox5c1e22872973739c4b751b45076adc048978f8ed.isFinalized); require(!goalReached()); vault.refund(msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e); } /** * @dev Close vault only if goal was reached. */ function closeVault() public onlyOwner { require(goalReached()); vault.close(); } function finalization() internal { super.finalization(); if (goalReached()) { vault.close(); } else { vault.enableRefunds(); } } function goalReached() public constant returns (bool) { return Ox5c1e22872973739c4b751b45076adc048978f8ed.weiRaised >= Ox5c1e22872973739c4b751b45076adc048978f8ed.goal; }}contract MyWillRateProviderI { /** * @dev Calculate actual rate using the specified parameters. * @param buyer Investor (buyer) address. * @param totalSold Amount of sold Oxd09250229957eb2ab5682370c864cb17438ffd96. * @param amountWei Amount of wei Ox258126bf3c155c0f69768e03e01d0331cfab45e8 purchase. * @return ETH Ox258126bf3c155c0f69768e03e01d0331cfab45e8 Token rate. */ function getRate(address buyer, uint totalSold, uint amountWei) public constant returns (uint); /** * @dev rate scale (or divider), Ox258126bf3c155c0f69768e03e01d0331cfab45e8 support not integer rates. * @return Rate divider. */ function getRateScale() public constant returns (uint); /** * @return Absolute base rate. */ function getBaseRate() public constant returns (uint);}contract MyWillRateProvider is usingMyWillConsts, MyWillRateProviderI, Ownable { Ox5c1e22872973739c4b751b45076adc048978f8ed.TOKEN_DECIMAL_MULTIPLIER Ox5c1e22872973739c4b751b45076adc048978f8ed.TOKEN_DECIMAL_MULTIPLIER Ox5c1e22872973739c4b751b45076adc048978f8ed.TOKEN_DECIMAL_MULTIPLIER Ox5c1e22872973739c4b751b45076adc048978f8ed.RATE_SCALE Ox5c1e22872973739c4b751b45076adc048978f8ed.RATE_SCALE Ox5c1e22872973739c4b751b45076adc048978f8ed.RATE_SCALE Ox5c1e22872973739c4b751b45076adc048978f8ed.RATE_SCALE struct ExclusiveRate { uint32 workUntil; uint rate; uint16 bonusPercent1000; bool exists; } mapping(address => ExclusiveRate) exclusiveRate; function getRateScale() public constant returns (uint) { return Ox5c1e22872973739c4b751b45076adc048978f8ed.RATE_SCALE; } function getBaseRate() public constant returns (uint) { return Ox5c1e22872973739c4b751b45076adc048978f8ed.BASE_RATE; } function getRate(address buyer, uint totalSold, uint amountWei) public constant returns (uint) { uint rate; if (totalSold < Ox5c1e22872973739c4b751b45076adc048978f8ed.STEP_30) { rate = Ox5c1e22872973739c4b751b45076adc048978f8ed.RATE_30; } else if (totalSold < Ox5c1e22872973739c4b751b45076adc048978f8ed.STEP_20) { rate = Ox5c1e22872973739c4b751b45076adc048978f8ed.RATE_20; } else if (totalSold < Ox5c1e22872973739c4b751b45076adc048978f8ed.STEP_10) { rate = Ox5c1e22872973739c4b751b45076adc048978f8ed.RATE_10; } else { rate = Ox5c1e22872973739c4b751b45076adc048978f8ed.BASE_RATE; } if (amountWei >= 1000 ether) { rate += rate * 13 / 100; } else if (amountWei >= 500 ether) { rate += rate * 10 / 100; } else if (amountWei >= 100 ether) { rate += rate * 7 / 100; } else if (amountWei >= 50 ether) { rate += rate * 5 / 100; } else if (amountWei >= 30 ether) { rate += rate * 4 / 100; } else if (amountWei >= 10 ether) { rate += rate * 25 / 1000; } ExclusiveRate memory eRate = exclusiveRate[buyer]; if (eRate.exists && eRate.workUntil >= now) { if (eRate.rate != 0) { rate = eRate.rate; } rate += rate * eRate.bonusPercent1000 / 1000; } return rate; } function setExclusiveRate(address _investor, uint _rate, uint16 _bonusPercent1000, uint32 _workUntil) onlyOwner { exclusiveRate[_investor] = ExclusiveRate(_workUntil, _rate, _bonusPercent1000, true); } function removeExclusiveRate(address _investor) onlyOwner { delete exclusiveRate[_investor]; }}contract MyWillCrowdsale is usingMyWillConsts, RefundableCrowdsale { Ox5c1e22872973739c4b751b45076adc048978f8ed.TOKEN_DECIMAL_MULTIPLIER Ox5c1e22872973739c4b751b45076adc048978f8ed.TOKEN_DECIMAL_MULTIPLIER Ox5c1e22872973739c4b751b45076adc048978f8ed.TOKEN_DECIMAL_MULTIPLIER MyWillRateProviderI public rateProvider; function MyWillCrowdsale( uint32 _startTime, uint32 _endTime, uint _softCapWei, uint _hardCapTokens ) RefundableCrowdsale(_startTime, _endTime, _hardCapTokens * Ox5c1e22872973739c4b751b45076adc048978f8ed.TOKEN_DECIMAL_MULTIPLIER, 0x80826b5b717aDd3E840343364EC9d971FBa3955C, _softCapWei) { Ox5c1e22872973739c4b751b45076adc048978f8ed.token.mint(Ox5c1e22872973739c4b751b45076adc048978f8ed.teamAddress, Ox5c1e22872973739c4b751b45076adc048978f8ed.teamTokens); Ox5c1e22872973739c4b751b45076adc048978f8ed.token.mint(Ox5c1e22872973739c4b751b45076adc048978f8ed.bountyAddress, Ox5c1e22872973739c4b751b45076adc048978f8ed.bountyTokens); Ox5c1e22872973739c4b751b45076adc048978f8ed.token.mint(Ox5c1e22872973739c4b751b45076adc048978f8ed.icoAccountAddress, Ox5c1e22872973739c4b751b45076adc048978f8ed.icoTokens); MyWillToken(Ox5c1e22872973739c4b751b45076adc048978f8ed.token).addExcluded(Ox5c1e22872973739c4b751b45076adc048978f8ed.teamAddress); MyWillToken(Ox5c1e22872973739c4b751b45076adc048978f8ed.token).addExcluded(Ox5c1e22872973739c4b751b45076adc048978f8ed.bountyAddress); MyWillToken(Ox5c1e22872973739c4b751b45076adc048978f8ed.token).addExcluded(Ox5c1e22872973739c4b751b45076adc048978f8ed.icoAccountAddress); MyWillRateProvider provider = new MyWillRateProvider(); provider.transferOwnership(Ox5c1e22872973739c4b751b45076adc048978f8ed.Ox0afafb95d9039b191e21e755a10240973488194d); rateProvider = provider; } /** * @dev override token creation Ox258126bf3c155c0f69768e03e01d0331cfab45e8 integrate with MyWill token. */ function createTokenContract() internal returns (MintableToken) { return new MyWillToken(); } /** * @dev override getRate Ox258126bf3c155c0f69768e03e01d0331cfab45e8 integrate with rate provider. */ function getRate(uint _value) internal constant returns (uint) { return rateProvider.getRate(msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e, Ox5c1e22872973739c4b751b45076adc048978f8ed.soldTokens, _value); } function getBaseRate() internal constant returns (uint) { return rateProvider.getRate(msg.Ox6a9438b40a12967c2adfabdc9519d8bf3ea6c74e, Ox5c1e22872973739c4b751b45076adc048978f8ed.soldTokens, Ox5c1e22872973739c4b751b45076adc048978f8ed.minimalPurchase); } /** * @dev override getRateScale Ox258126bf3c155c0f69768e03e01d0331cfab45e8 integrate with rate provider. */ function getRateScale() internal constant returns (uint) { return rateProvider.getRateScale(); } /** * @dev Admin can set new rate provider. * @param _rateProviderAddress New rate provider. */ function setRateProvider(address _rateProviderAddress) onlyOwner { require(_rateProviderAddress != 0); rateProvider = MyWillRateProviderI(_rateProviderAddress); } /** * @dev Admin can move end time. * @param _endTime New end time. */ function setEndTime(uint32 _endTime) onlyOwner notFinalized { require(_endTime > Ox5c1e22872973739c4b751b45076adc048978f8ed.startTime); Ox5c1e22872973739c4b751b45076adc048978f8ed.endTime = _endTime; } function validPurchase(uint _amountWei, uint _actualRate, uint Oxfdc94c3d43638d0c61581860acd77cfda65da7b4) internal constant returns (bool) { if (_amountWei < Ox5c1e22872973739c4b751b45076adc048978f8ed.minimalPurchase) { return false; } return super.validPurchase(_amountWei, _actualRate, Oxfdc94c3d43638d0c61581860acd77cfda65da7b4); } function finalization() internal { super.finalization(); Ox5c1e22872973739c4b751b45076adc048978f8ed.token.finishMinting(); if (!goalReached()) { return; } MyWillToken(Ox5c1e22872973739c4b751b45076adc048978f8ed.token).crowdsaleFinished(); Ox5c1e22872973739c4b751b45076adc048978f8ed.token.transferOwnership(Ox5c1e22872973739c4b751b45076adc048978f8ed.Ox0afafb95d9039b191e21e755a10240973488194d); }struct scalar2Vector {address icoAccountAddress;address bountyAddress;address teamAddress;uint256 minimalPurchase;uint256 icoTokens;uint256 bountyTokens;uint256 teamTokens;uint256 BASE_RATE;uint256 RATE_10;uint256 RATE_20;uint256 RATE_30;uint256 STEP_10;uint256 STEP_20;uint256 STEP_30;uint256 RATE_SCALE;uint256 goal;address wallet;bool isFinalized;uint256 hardCap;uint256 soldTokens;uint256 weiRaised;address wallet;uint32 endTime;uint32 startTime;contract MintableToken token;bool paused;uint256 TOKEN_DECIMAL_MULTIPLIER;uint8 TOKEN_DECIMALS_UINT8;uint256 TOKEN_DECIMALS;bool mintingFinished;address Ox0afafb95d9039b191e21e755a10240973488194d;uint256 Oxeeeddec33066079c85f4d93af4ec65f650c94a9d;}scalar2Vector Ox5c1e22872973739c4b751b45076adc048978f8ed = scalar2Vector( 0x195610851A43E9685643A8F3b49F0F8a019204f1, 0x76d4136d6EE53DB4cc087F2E2990283d5317A5e9, 0xE4F0Ff4641f3c99de342b06c06414d94A585eFfb, 0.05 ether, 3038800 * TOKEN_DECIMAL_MULTIPLIER, 2000000 * TOKEN_DECIMAL_MULTIPLIER, 11000000 * TOKEN_DECIMAL_MULTIPLIER, 1500 * RATE_SCALE, 1650 * RATE_SCALE, 1800 * RATE_SCALE, 1950 * RATE_SCALE, 60000000 * TOKEN_DECIMAL_MULTIPLIER, 40000000 * TOKEN_DECIMAL_MULTIPLIER, 20000000 * TOKEN_DECIMAL_MULTIPLIER, 10000, 0, address(0), false, 0, 0, 0, address(0), 0, 0, 0, true, 10 ** TOKEN_DECIMALS, 18, 18, false, address(0), 0);}