You are a senior blockchain security researcher and Solidity expert.

The following Solidity smart contract has been obfuscated using:
- Dataflow obfuscation
- Layout obfuscation
- Variable renaming
- Expression rewriting

Your task is to DE-OBFUSCATE it.

STRICT REQUIREMENTS:

1. Preserve EXACT functionality.
2. Do NOT remove or alter logic.
3. Do NOT simplify business rules.
4. Restore meaningful variable names where possible.
5. Restore meaningful function names where possible.
6. Improve indentation and formatting.
7. Remove unnecessary intermediate variables if they are clearly obfuscation artifacts.
8. Simplify overly complex arithmetic expressions ONLY if logically equivalent.
9. Maintain same Solidity version pragma.
10. Ensure the output compiles.

Return ONLY the clean Solidity contract.
Do not add explanations.
Do not add markdown.
Return raw Solidity code only.

Here is the obfuscated contract:
